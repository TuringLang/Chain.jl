<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Diagnostics · MCMCChains.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">MCMCChains.jl</span></div><form class="docs-search" action="search.html"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="index.html">MCMCChains</a></li><li class="is-active"><a class="tocitem" href="diagnostics.html">Diagnostics</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href="diagnostics.html">Diagnostics</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="diagnostics.html">Diagnostics</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/rikhuijzer/MCMCChains.jl/blob/master/docs/src/diagnostics.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Diagnostics"><a class="docs-heading-anchor" href="#Diagnostics">Diagnostics</a><a id="Diagnostics-1"></a><a class="docs-heading-anchor-permalink" href="#Diagnostics" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-binding" id="MCMCChains.weiss-Tuple{AbstractMatrix{T} where T}" href="#MCMCChains.weiss-Tuple{AbstractMatrix{T} where T}"><code>MCMCChains.weiss</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">weiss(X::AbstractMatrix)</code></pre><p>The weiss procedure to assess convergence in MCMC output computes <span>$\frac{X^2}{c}$</span> and evaluates a p-value from the <span>$X^2$</span> (Chi-square) distribution with <span>$(|R| − 1)(s − 1)$</span> degrees of freedom.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rikhuijzer/MCMCChains.jl/blob/9dcd97999404e9694ebef905acf47616a84775a7/src/discretediag.jl#L27-L31">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MCMCChains.gelmandiag-Tuple{AbstractArray{var&quot;#s11&quot;, 3} where var&quot;#s11&quot;&lt;:Real}" href="#MCMCChains.gelmandiag-Tuple{AbstractArray{var&quot;#s11&quot;, 3} where var&quot;#s11&quot;&lt;:Real}"><code>MCMCChains.gelmandiag</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">gelmandiag(chains; kwargs...)
</code></pre><p>Gelman, Rubin and Brooks Diagnostics.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rikhuijzer/MCMCChains.jl/blob/9dcd97999404e9694ebef905acf47616a84775a7/src/gelmandiag.jl#L54">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MCMCChains.gelmandiag-Tuple{AbstractArray{var&quot;#s48&quot;, 3} where var&quot;#s48&quot;&lt;:Real}" href="#MCMCChains.gelmandiag-Tuple{AbstractArray{var&quot;#s48&quot;, 3} where var&quot;#s48&quot;&lt;:Real}"><code>MCMCChains.gelmandiag</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">gelmandiag(chains::AbstractArray{&lt;:Real,3}; kwargs...)</code></pre><p>Gelman, Rubin and Brooks Diagnostics.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rikhuijzer/MCMCChains.jl/blob/9dcd97999404e9694ebef905acf47616a84775a7/src/gelmandiag.jl#L54-L58">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MCMCChains.gelmandiag_multivariate-Tuple{AbstractArray{var&quot;#s48&quot;, 3} where var&quot;#s48&quot;&lt;:Real}" href="#MCMCChains.gelmandiag_multivariate-Tuple{AbstractArray{var&quot;#s48&quot;, 3} where var&quot;#s48&quot;&lt;:Real}"><code>MCMCChains.gelmandiag_multivariate</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">gelmandiag_multivariate(chains::AbstractArray{&lt;:Real,3}; kwargs...)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rikhuijzer/MCMCChains.jl/blob/9dcd97999404e9694ebef905acf47616a84775a7/src/gelmandiag.jl#L65-L68">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MCMCChains.gewekediag-Tuple{Chains}" href="#MCMCChains.gewekediag-Tuple{Chains}"><code>MCMCChains.gewekediag</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">gewekediag(chains; sections, first, last, etype, kwargs...)
</code></pre><p>Geweke Diagnostic.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rikhuijzer/MCMCChains.jl/blob/9dcd97999404e9694ebef905acf47616a84775a7/src/gewekediag.jl#L18">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MCMCChains.heideldiag-Tuple{Chains}" href="#MCMCChains.heideldiag-Tuple{Chains}"><code>MCMCChains.heideldiag</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">heideldiag(chains; sections, alpha, eps, etype, kwargs...)
</code></pre><p>Heidelberger and Welch Diagnostic</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rikhuijzer/MCMCChains.jl/blob/9dcd97999404e9694ebef905acf47616a84775a7/src/heideldiag.jl#L27">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MCMCChains.heideldiag-Tuple{Vector{var&quot;#s48&quot;} where var&quot;#s48&quot;&lt;:Real}" href="#MCMCChains.heideldiag-Tuple{Vector{var&quot;#s48&quot;} where var&quot;#s48&quot;&lt;:Real}"><code>MCMCChains.heideldiag</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">heideldiag(x::Vector{&lt;:Real}; alpha, eps, etype, start, args...)
heideldiag(chains::Chains; sections, alpha, eps, etype, args...)</code></pre><p>Heidelberger and Welch Diagnostic</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rikhuijzer/MCMCChains.jl/blob/9dcd97999404e9694ebef905acf47616a84775a7/src/heideldiag.jl#L1-L6">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MCMCChains.rafterydiag-Tuple{Vector{var&quot;#s48&quot;} where var&quot;#s48&quot;&lt;:Real}" href="#MCMCChains.rafterydiag-Tuple{Vector{var&quot;#s48&quot;} where var&quot;#s48&quot;&lt;:Real}"><code>MCMCChains.rafterydiag</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">rafterydiag(x::Vector{&lt;:Real}; q, r, s, eps, range)
rafterydiag(chains::Chains; sections, q, r, s, eps)</code></pre><p>Raftery and Lewis Diagnostic.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rikhuijzer/MCMCChains.jl/blob/9dcd97999404e9694ebef905acf47616a84775a7/src/rafterydiag.jl#L1-L6">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MCMCChains.rstar-Tuple{Random.AbstractRNG, MLJModelInterface.Supervised, AbstractMatrix{T} where T, AbstractVector{Int64}}" href="#MCMCChains.rstar-Tuple{Random.AbstractRNG, MLJModelInterface.Supervised, AbstractMatrix{T} where T, AbstractVector{Int64}}"><code>MCMCChains.rstar</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">rstar([rng ,]classif::Supervised, chains::Chains; kwargs...)
rstar([rng ,]classif::Supervised, x::AbstractMatrix, y::AbstractVector; kwargs...)</code></pre><p>Compute the R* convergence diagnostic of MCMC.</p><p>This implementation is an adaption of Algorithm 1 &amp; 2, described by Lambert &amp; Vehtari (<a href="https://arxiv.org/abs/2003.07900">2020</a>). Note that the correctness of the statistic depends on the convergence of the classifier used internally in the statistic. You can inspect the training of the classifier by adjusting the verbosity level.</p><p><strong>Keyword Arguments</strong></p><ul><li><code>subset = 0.8</code> ... Subset used to train the classifier, i.e. 0.8 implies 80% of the samples are used.</li><li><code>iterations = 10</code> ... Number of iterations used to estimate the statistic. If the classifier is not probabilistic, i.e. does not return class probabilities, it is advisable to use a value of one.</li><li><code>verbosity = 0</code> ... Verbosity level used during fitting of the classifier.</li></ul><p><strong>Usage</strong></p><pre><code class="language-julia"># Load an MLJ classifier to compute the statistic, e.g., the XGBoost classifier.
using MLJModels
XGBoost = @load XGBoostClassifier

# Compute 20 samples of the R* statistic using sampling according to the prediction probabilities.
Rs = rstar(XGBoost(), chn; iterations=20)

# estimate Rstar
R = mean(Rs)

# visualize distribution
histogram(Rs)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rikhuijzer/MCMCChains.jl/blob/9dcd97999404e9694ebef905acf47616a84775a7/src/rstar.jl#L1-L33">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MCMCChains.BDAESSMethod" href="#MCMCChains.BDAESSMethod"><code>MCMCChains.BDAESSMethod</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">BDAESSMethod &lt;: AbstractESSMethod</code></pre><p>The <code>BDAESSMethod</code> uses a standard algorithm for estimating the effective sample size of MCMC chains.</p><p>It is is based on the discussion by <a href="https://arxiv.org/pdf/1903.08008.pdf">Vehtari et al. (2019)</a> and uses the variogram estimator of the autocorrelation function discussed in  <a href="https://www.taylorfrancis.com/books/9780429113079">Bayesian Data Analysis (2013)</a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rikhuijzer/MCMCChains.jl/blob/9dcd97999404e9694ebef905acf47616a84775a7/src/ess.jl#L37-L47">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MCMCChains.ESSMethod" href="#MCMCChains.ESSMethod"><code>MCMCChains.ESSMethod</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">ESSMethod &lt;: AbstractESSMethod</code></pre><p>The <code>ESSMethod</code> uses a standard algorithm for estimating the effective sample size of MCMC chains.</p><p>It is is based on the discussion by <a href="https://arxiv.org/pdf/1903.08008.pdf">Vehtari et al. (2019)</a> and uses a biased estimator of the autocovariance, as discussed by <a href="https://projecteuclid.org/euclid.ss/1177011137">Geyer (1992)</a>. In contrast to Geyer, the divisor <code>n - 1</code> is used in the estimation of the autocovariance to obtain the unbiased estimator of the variance for lag 0.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rikhuijzer/MCMCChains.jl/blob/9dcd97999404e9694ebef905acf47616a84775a7/src/ess.jl#L4-L16">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MCMCChains.FFTESSMethod" href="#MCMCChains.FFTESSMethod"><code>MCMCChains.FFTESSMethod</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">FFTESSMethod &lt;: AbstractESSMethod</code></pre><p>The <code>FFTESSMethod</code> uses a standard algorithm for estimating the effective sample size of MCMC chains.</p><p>It is is based on the discussion by <a href="https://arxiv.org/pdf/1903.08008.pdf">Vehtari et al. (2019)</a> and uses the biased estimator of the autocovariance, as discussed by <a href="https://projecteuclid.org/euclid.ss/1177011137">Geyer (1992)</a>. In contrast to Geyer, the divisor <code>n - 1</code> is used in the estimation of the autocovariance to obtain the unbiased estimator of the variance for lag 0.</p><p>In contrast to <a href="diagnostics.html#MCMCChains.ESSMethod"><code>ESSMethod</code></a>, this method uses fast Fourier transforms (FFTs) for estimating the autocorrelation.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rikhuijzer/MCMCChains.jl/blob/9dcd97999404e9694ebef905acf47616a84775a7/src/ess.jl#L19-L34">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MCMCChains.copyto_split!-Tuple{AbstractMatrix{T} where T, AbstractMatrix{T} where T}" href="#MCMCChains.copyto_split!-Tuple{AbstractMatrix{T} where T, AbstractMatrix{T} where T}"><code>MCMCChains.copyto_split!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">copyto_split!(out::AbstractMatrix, x::AbstractMatrix)</code></pre><p>Copy the elements of matrix <code>x</code> to matrix <code>out</code>, in which each column of <code>x</code> is split.</p><p>If the number of rows in <code>x</code> is odd, the sample at index <code>(size(x, 1) + 1) / 2</code> is dropped.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rikhuijzer/MCMCChains.jl/blob/9dcd97999404e9694ebef905acf47616a84775a7/src/ess.jl#L324-L330">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="MCMCChains.ess-Tuple{Chains}" href="#MCMCChains.ess-Tuple{Chains}"><code>MCMCChains.ess</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">ess(chains::Chains; kwargs...)</code></pre><p>Estimate the effective sample size and the potential scale reduction.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rikhuijzer/MCMCChains.jl/blob/9dcd97999404e9694ebef905acf47616a84775a7/src/ess.jl#L198-L202">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="index.html">« MCMCChains</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Monday 22 February 2021 20:55">Monday 22 February 2021</span>. Using Julia version 1.6.0-rc1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
